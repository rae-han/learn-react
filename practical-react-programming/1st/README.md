##  환경변수
- .env.{환경변수 이름} 으로 선언한 파일을 process.env.{환경 변수 이름} 으로 접근 가능하다.
- npm start -> development
- npm test -> test
- npm run build -> production

## CSS 작성 방법
- 리액트 프로그래밍은 컴포넌트를 중심으로 생각하는게 좋다.
- 컴포넌트 하나를 잘 만들어 여러 곳에 재사용 하는게 좋은데, 그러기 위해서는 각 컴포넌트는 서로 간의 의존성을 최소화하면서 내부적으로는 응집도(cohesion)를 높여야한다.
- 컴포넌트는 화면에 보이는 부분으로 당연히 CSS코드가 필요하고, 응집도를 높이기 위해 컴포넌트 내부에서 CSS 관리하는 방법으로는 css-module, css-in-js 가 있다.

### css-module
CRA에서는 css 파일 이름 접미사에 .module.css 를 사용하면 컴포넌트 단위의 css 모듈이 된다.

## 단일 페이지 애플리케이션
- 리액트 애플리케이션의 페이지 전환은 단일 페이지 애플리케이션(single page applicaiton, SPA)가 정석이다.
- 최초 요청 시 서버에서 첫 페이지를 처리하고 이후의 라우팅은 클라이언트에서 처리한다.

## 리액트 훅
- 로직을 재사용하는 기존 방식의 한계
  - 리액트에서 로직의 재사용은 주로 고차 컴포넌트와 렌더 속상값 패턴으로 이루어진다.
  - 두 방법은 대상이 되는 컴포넌트를 감싸는 새로운 컴포넌트를 생성하기 때문에 리액트 요소 트리가 깊어진다.
  - 리액트 요소 트리가 싶어지면 성능에 부정적인 영향이 있고, 개발 시 디버깅을 힘들게 하는 원인이 되기도 한다.

- 클래스형 컴포넌트의 한계
  - 서로 연관성이 없는 여러 가지 로직을 하나의 생명 주기 메서드에서 작성하는 경우가 많다.
    - componentDidMount 메서드에 등록 후, componentWillUnmount 메서드에서 해제
  - 컴포넌트를 작성할 때 부수적으로 작성해야 하는 코드가 많다.
  - 사람뿐만 아니라 컴퓨터의 입장에서도 복잡한 구조로 되어 있어 코드 압축이 잘 안 되는 경우가 있고, 핫 리로드에서 난해한 버그를 발생시키고, 컴파일 단계에서 코드를 최적화하기 어렵게 만든다.

- 훅의 장점
  - 훅을 사용하면 재사용 가능한 로직을 쉽게 만들 수 있다.
    - 훅이 단순한 함수이므로 함수 안에서 다른 함수를 호출하는 것으로 새로운 훅을 만들 수 있기 때문
  - 같은 로직을 한곳으로 모을 수 있다.
    - 같은 로직이 componentDidMount나 componentDidUpdate 에 중복으로 들어갈 일이 없다.
  - 단순한 함수이므로 정적 타입 언어로 타입을 정의하기 쉽다.
    - 귀찮고 까다로운 작업이었던 고차 컴포넌트의 타입 정의와 비교되는 부분

- useState 
  - 컴ㅍ넌트에 상탯값 추가
  - 여러개의 상탯값을 하나의 객체로 관리하는 경우를 위해 useReducer 훅이 제공
- useEffect
  - 함수형 컴포넌트에서 생명 주기 함수를 이용하는데 사용
  - 클래스형 컴포넌트의 메서드들과 1:1로 대응되진 않는다
    - 리액트 팀에서 기존의 생명 주기 메서드에 문제가 있다고 판단했기 때문

### 훅 사용시 규칙
1. 하나의 컴포넌트에서 훅을 호출하는 순서는 항상 같아야 한다.
2. 훅은 함수형 컴포넌트 또는 커스텀 훅 안에서만 호출되어야 한다.

- 위의 두 규칙을 지켜야 리액트가 각 훅의 상태를 제대로 기억할 수 있다.

  - useContext 
    - Consumer 컴포넌트를 사용하지 않고도 부모 컴포넌트로부터 전달된 컨텍스트 데이터를 사용 가능.
  - useRef
    - 함수형 컴포넌트에서 돔 요소 접근
    - 함수형 컴포넌트에서 렌더링과 무관한 값 저장
      - 클래스형 컴포넌트에서는 렌더링과 무관한 값을 멤버 변수에 저장했다면,
      - 함수형 컴포넌트는 인스턴스로 생성되지 않기 때문에 사용된 컴포넌트의 고유한 값을 저장할 방법이 없엇다.
      - 이때 useRef 훅으로 맴버 변수를 만들수 있다.
        - useState 훅도 변수로 사용될 수 있지만 컴포넌트의 생명 주기와 밀접하게 연관되어 있어 렌더링과 무관한 값을 저장하기에는 적합하지 않다.
        - /component/PreValueRef.js 참조

  - useMemo, useCallback
    - 메모제이션 훅

  - useMemo
    - 계산량이 많은 함수의 반환값을 재활용하는 용도로 사용


